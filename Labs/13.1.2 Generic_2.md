# 13.1.2 Generic


##  13.1.2.1 Generic class : stack for Integer

แก้คลาส stack ให้เป็น Generic โดยขั้นตอนต่อไปนี้
- ในคลาส MyIntStack ให้เปลี่ยน int ทุกตำแหน่งเป็นตัวอักษร T
- เปลี่ยนชื่อ MyIntStack เป็น MyStack
- ใส่ <T> หลังชื่อคลาส

เราสามารถสร้าง stack ในรูปแบบชนิดข้อมูลต่าง ๆ จาก generic class ได้โดยการระบุชนิดที่ต้องการในขณะสร้าง instance

พิจารณาโปรแกรมต่อไปนี้ รันและบันทึกผลการทำงาน

```cs
 namespace GenericExample
{

    class Stack<T>
    {
        T[] StackArray;
        int MaxStack = 10;
        int StackPointer = 0;
        bool IsStackFull {get { return StackPointer >= MaxStack; }}
        bool IsStackEmpty { get {  return StackPointer <= 0; }}
        public Stack()
        {
            StackArray = new T[MaxStack];
        }
        public void Push(T x)
        { 
            if(!IsStackFull)
                StackArray[StackPointer++] = x;
        }
        public T Pop()
        { 
            return (!IsStackEmpty)?
                StackArray[--StackPointer] :
                StackArray[0];
        }
        public void Info()
        {
        int i = 0;
            foreach (var x in StackArray)
            {
                Console.Write($"Stack[{i++}] = {x}");
                if (i == StackPointer) Console.WriteLine(" <---Stack Pointer");
                else Console.WriteLine();
            }
        }
    }

    internal class Program
    {
        static void Main(string[] args)
        {
            Stack<int> integerStack = new Stack<int>();
            Console.WriteLine("------ pop -----");
            integerStack.Push(1);
            integerStack.Push(2);
            integerStack.Push(3);
            integerStack.Info();
            Console.WriteLine("------ pop -----");
            Console.WriteLine($"Pop value = {integerStack.Pop()}");
            Console.WriteLine($"Pop value = {integerStack.Pop()}");
            integerStack.Info();
            Console.WriteLine("------ pop -----");
            integerStack.Push(100);
            integerStack.Push(200);
            integerStack.Push(300);
            integerStack.Info();

            Stack<double> doubleStack = new Stack<double>();
            Console.WriteLine("------ pop -----");
            doubleStack.Push(Math.PI);
            doubleStack.Push(Math.E);
            doubleStack.Push(Math.Tau);
            doubleStack.Info();
            Console.WriteLine("------ pop -----");
            Console.WriteLine($"Pop value = {doubleStack.Pop()}");
            Console.WriteLine($"Pop value = {doubleStack.Pop()}");
            doubleStack.Info();
            Console.WriteLine("------ pop -----");
            doubleStack.Push(111.1111);
            doubleStack.Push(222.2222);
            doubleStack.Push(333.3333);
            doubleStack.Info();
        }
    }
}
```
 ![ภาพ](https://user-images.githubusercontent.com/112167732/236676481-9e565c09-7eaf-4eb5-9c9b-0d5d14ce9d67.png)

# แบบฝึกหัด 

เพิ่ม  stringStack ให้ทำงานกับข้อมูลชนิด string
โดยใช้ code สำหรับทดสอบแบบเดียวกับตัวอย่าง
```cs
 namespace GenericExample
{

    class IntegerStack
    {
        int[] StackArray;
        int MaxStack = 10;
        int StackPointer = 0;
        bool IsStackFull { get { return StackPointer >= MaxStack; } }
        bool IsStackEmpty { get { return StackPointer <= 0; } }
        public IntegerStack()
        {
            StackArray = new int[MaxStack];
        }
        public void Push(int x)
        {
            if (!IsStackFull)
                StackArray[StackPointer++] = x;
        }
        public int Pop()
        {
            return (!IsStackEmpty) ?
                StackArray[--StackPointer] :
                StackArray[0];
        }
        public void Info()
        {
            int i = 0;
            foreach (var x in StackArray)
            {
                Console.Write($"Stack[{i++}] = {x}");
                if (i == StackPointer) Console.WriteLine(" <---Stack Pointer");
                else Console.WriteLine();
            }
        }
    }

    class DoubleStack
    {
        double[] StackArray;
        int MaxStack = 10;
        int StackPointer = 0;
        bool IsStackFull { get { return StackPointer >= MaxStack; } }
        bool IsStackEmpty { get { return StackPointer <= 0; } }
        public DoubleStack()
        {
            StackArray = new double[MaxStack];
        }
        public void Push(double x)
        {
            if (!IsStackFull)
                StackArray[StackPointer++] = x;
        }
        public double Pop()
        {
            return (!IsStackEmpty) ?
                StackArray[--StackPointer] :
                StackArray[0];
        }
        public void Info()
        {
            int i = 0;
            foreach (var x in StackArray)
            {
                Console.Write($"Stack[{i++}] = {x}");
                if (i == StackPointer) Console.WriteLine(" <---Stack Pointer");
                else Console.WriteLine();
            }
        }
    }
    class StringStack
    {
        String[] StackArray;
        int MaxStack = 10;
        int StackPointer = 0;
        bool IsStackFull { get { return StackPointer >= MaxStack; } }
        bool IsStackEmpty { get { return StackPointer <= 0; } }
        public StringStack()
        {
            StackArray = new string[MaxStack];
        }
        public void Push(String x)
        {
            if (!IsStackFull)
                StackArray[StackPointer++] = x;
        }
        public String Pop()
        {
            return (!IsStackEmpty) ?
                StackArray[--StackPointer] :
                StackArray[0];
        }
        public void Info()
        {
            int i = 0;
            foreach (var x in StackArray)
            {
                Console.Write($"Stack[{i++}] = {x}");
                if (i == StackPointer) Console.WriteLine(" <---Stack Pointer");
                else Console.WriteLine();
            }
        }
    }
    internal class Program
    {
        static void Main(string[] args)
        {
            IntegerStack integerStack = new IntegerStack();
            Console.WriteLine("------ push -----");
            integerStack.Push(1);
            integerStack.Push(2);
            integerStack.Push(3);
            integerStack.Info();
            Console.WriteLine("------ pop -----");
            Console.WriteLine($"Pop value = {integerStack.Pop()}");
            Console.WriteLine($"Pop value = {integerStack.Pop()}");
            integerStack.Info();
            Console.WriteLine("------ push -----");
            integerStack.Push(100);
            integerStack.Push(200);
            integerStack.Push(300);
            integerStack.Info();

            DoubleStack doubleStack = new DoubleStack();
            Console.WriteLine("------ push -----");
            doubleStack.Push(Math.PI);
            doubleStack.Push(Math.E);
            doubleStack.Push(Math.Tau);
            doubleStack.Info();
            Console.WriteLine("------ pop -----");
            Console.WriteLine($"Pop value = {doubleStack.Pop()}");
            Console.WriteLine($"Pop value = {doubleStack.Pop()}");
            doubleStack.Info();
            Console.WriteLine("------ push -----");
            doubleStack.Push(111.1111);
            doubleStack.Push(222.2222);
            doubleStack.Push(333.3333);
            doubleStack.Info();
            
            StringStack stringStack = new StringStack();
            Console.WriteLine("------ push -----");
            stringStack.Push("64030161");
            stringStack.Push("Rachata");
            stringStack.Push("Supanurak");
            stringStack.Info();
            Console.WriteLine("------ pop -----");
            Console.WriteLine($"Pop value = {stringStack.Pop()}");
            Console.WriteLine($"Pop value = {stringStack.Pop()}");
            stringStack.Info();
            Console.WriteLine("------ push -----");
            stringStack.Push("Tonnam");
            stringStack.Push("rachata.tn");
            stringStack.Push("Almadel");
            stringStack.Info();
        }
    }
}
 ```
